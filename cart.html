<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home | BasketBound</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            letter-spacing: -0.02px;
            line-height: 1.1;
        }

        .cart-btn {
            cursor: pointer;
            width: 66px;
            display: flex;
            border: 1px solid rgb(49, 134, 22);
            height: 31px;
            font-weight: 600;
            border-radius: 0.375rem;
            color: white;
            background: rgb(49, 134, 22);
            justify-content: space-between;
            align-items: center;
        }

        .minus,
        .plus {
            width: fit-content;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .minus-btn {
            margin-left: 8px;
            margin-right: 0px;
            cursor: pointer;
        }
        .val-input{
        }
        .plus-btn {
            margin-right: 8px;
            margin-left: 0px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <div class="">
        <nav class="navbar navbar-expand-lg bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="./index.html">BasketBound</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="./recipes.html">All Recipes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./store.html">Store</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./cart.html">Cart</a>
                        </li>
                    </ul>
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" disabled aria-disabled="true">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
    </div>
    <div class="container">
        <div class="card mb-3" style="">
            <div class="row g-0">
                <div class="col-3">
                    <img style="height: 100%; width: auto; object-fit: cover;"
                        src="https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=70,metadata=none,w=360/app/assets/products/sliding_images/jpeg/cd877564-10c0-44c4-ad65-3559c19e5f76.jpg?ts=1711100074"
                        class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-9">
                    <div class="card-body">
                        <h5 class="card-title">Tomatoes</h5>
                        <p class="card-text">Rs. 20 - 500g</p>
                        <p class="card-text"><small class="text-muted">Subtotal: Rs. <span class="fw-bold subtotal-value" id="subtotal-btn1" data-initial="20">20</span></small></p>
                        <div class="d-flex ">
                            <div class="cart-btn" id="btn1">
                                <div class="minus">
                                    <div class="minus-btn" onclick="decrement('btn1')">-</div>
                                </div>
                                <div class="val">
                                    <div id="val-btn1">1</div>
                                </div>
                                <div class="plus">
                                    <div class="plus-btn" onclick="increment('btn1')">+</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-3" style="">
            <div class="row g-0">
                <div class="col-3">
                    <img style="height: 100%; width: auto; object-fit: cover;"
                        src="https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=70,metadata=none,w=360/app/assets/products/sliding_images/jpeg/0074b9f6-c141-44b0-a00c-0278d5d315ca.jpg?ts=1711473366"
                        class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-9">
                    <div class="card-body">
                        <h5 class="card-title">Potatoes</h5>
                        <p class="card-text">Rs. 30 - 1kg</p>
                        <p class="card-text"><small class="text-muted">Subtotal: Rs. <span class="fw-bold subtotal-value" id="subtotal-btn2" data-initial="30">30</span></small></p>
                        <div class="d-flex ">
                            <div class="cart-btn" id="btn2">
                                <div class="minus">
                                    <div class="minus-btn" onclick="decrement('btn2')">-</div>
                                </div>
                                <div class="val">
                                    <div id="val-btn2">1</div>
                                </div>
                                <div class="plus">
                                    <div class="plus-btn" onclick="increment('btn2')">+</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-3" style="">
            <div class="row g-0">
                <div class="col-3">
                    <img style="height: 100%; width: auto; object-fit: cover;"
                        src="https://cdn.grofers.com/cdn-cgi/image/f=auto,fit=scale-down,q=70,metadata=none,w=360/app/assets/products/sliding_images/jpeg/fc97e36f-ae48-4261-99d7-718cb9b2f5e6.jpg?ts=1711010248"
                        class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-9">
                    <div class="card-body">
                        <h5 class="card-title">Onions</h5>
                        <p class="card-text">Rs. 40 - 1kg</p>
                        <p class="card-text"><small class="text-muted">Subtotal: Rs. <span class="fw-bold subtotal-value" id="subtotal-btn3" data-initial="40">40</span></small></p>
                        <div class="d-flex ">
                            <div class="cart-btn" id="btn3">
                                <div class="minus">
                                    <div class="minus-btn" onclick="decrement('btn3')">-</div>
                                </div>
                                <div class="val">
                                    <div id="val-btn3">1</div>
                                </div>
                                <div class="plus">
                                    <div class="plus-btn" onclick="increment('btn3')">+</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="d-grid gap-2 mb-4">
            <div class="btn btn-block btn-success"><span class="fw-bold">Checkout - </span>Total - Rs. <span id="total">90</span></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const increment = (e) => {
            const val = document.querySelector('#val-' + e);
            val.innerText = parseInt(val.innerText) + 1;
            const subtotal = document.querySelector('#subtotal-' + e);
            subtotal.innerText = parseInt(subtotal.dataset.initial) * parseInt(val.innerText)
            total()
        }
        const decrement = (e) => {
            const val = document.querySelector('#val-' + e);
            val.innerText = parseInt(val.innerText) - 1 === 0 ? val.innerText : parseInt(val.innerText)-1;
            const subtotal = document.querySelector('#subtotal-' + e);
            console.log(val.innerText)
            subtotal.innerText = parseInt(subtotal.dataset.initial) * parseInt(val.innerText)
            total()
        }
        const total = () => {
            const elements = document.querySelectorAll('.subtotal-value');
            console.log(elements)
            let sum = 0
            for(let i = 0; i < elements.length; i++){
                let element = elements[i];
                console.log(element)
                sum += parseInt(element.innerText);
            }
            document.querySelector('#total').innerText = sum;
        }
    </script>
</body>
</html>